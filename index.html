<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TuneMyTrip - Buscador de Viajes</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main>
    <div id="logo-container">
      <img id="logo" src="img/logo-metabuscador.png" alt="Logo TuneMyTrip" />
    </div>
    <form id="travel-form" autocomplete="off" novalidate>
      <div class="inputs-row">
        <div class="row">
          <label for="origin">Origen</label>
          <input type="text" id="origin" name="origin" placeholder="Ciudad de salida" required />
          <div class="error-message" aria-live="polite"></div>
        </div>
        <div class="row">
          <label for="destination">Destino</label>
          <input type="text" id="destination" name="destination" placeholder="Ciudad destino" required />
          <div class="error-message" aria-live="polite"></div>
        </div>
        <div class="row">
          <label for="departure-date">Fecha de ida</label>
          <input type="date" id="departure-date" name="departure-date" required />
          <div class="error-message" aria-live="polite"></div>
        </div>
      </div>
      <div id="returnDateContainer" class="row">
        <label for="return-date">Fecha de regreso</label>
        <input type="date" id="return-date" name="return-date" />
      </div>
      <div class="checkbox-group">
        <label>
          <input type="checkbox" id="round-trip" name="round-trip" />
          Viaje redondo
        </label>
        <label>
          <input type="checkbox" id="accommodation" name="accommodation" />
          Alojamiento
        </label>
        <label>
          <input type="checkbox" id="insurance" name="insurance" />
          Seguro de viaje
        </label>
      </div>
      <div class="button-group" role="group" aria-label="Categorías de viaje">
        <button type="button" class="btn-feature" data-category="aventura">Aventura</button>
        <button type="button" class="btn-feature" data-category="cultural">Cultural</button>
        <button type="button" class="btn-feature" data-category="playa">Playa</button>
        <button type="button" class="btn-feature" data-category="gastronomico">Gastronómico</button>
        <button type="button" class="btn-feature" data-category="ecoturismo">Ecoturismo</button>
        <button type="button" class="btn-feature" data-category="lujo">Lujo</button>
        <button type="button" class="btn-feature" data-category="senderismo">Senderismo</button>
        <button type="button" class="btn-feature" data-category="canotaje">Canotaje</button>
        <button type="button" class="btn-feature" data-category="vela">Vela</button>
      </div>
      <button type="submit" class="btn-submit">Buscar</button>
    </form>
  </main>
  <script>
    // Mostrar u ocultar fecha de regreso según el checkbox "Viaje redondo"
    const roundTripCheckbox = document.getElementById('round-trip');
    const returnDateContainer = document.getElementById('returnDateContainer');
    roundTripCheckbox.addEventListener('change', () => {
      if (roundTripCheckbox.checked) {
        returnDateContainer.style.display = 'block';
      } else {
        returnDateContainer.style.display = 'none';
      }
    });

    // Selección visual de categorías
    const categoryButtons = document.querySelectorAll('.btn-feature');
    categoryButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        // Deseleccionar todos
        categoryButtons.forEach(b => b.classList.remove('selected'));
        // Seleccionar el clickeado
        btn.classList.add('selected');
      });
    });

    // Validación simple form
    const form = document.getElementById('travel-form');
    form.addEventListener('submit', e => {
      e.preventDefault();
      let valid = true;
      form.querySelectorAll('.row').forEach(row => {
        const input = row.querySelector('input');
        const errorDiv = row.querySelector('.error-message');
        if (input && input.hasAttribute('required') && !input.value.trim()) {
          errorDiv.textContent = 'Este campo es obligatorio.';
          valid = false;
        } else {
          errorDiv.textContent = '';
        }
      });
      if (!valid) return;
      // Aquí lógica para procesar formulario (ejemplo localStorage, llamada API, etc.)
      alert('Formulario válido y listo para enviar!');
    });
  </script>
</body>
</html>
